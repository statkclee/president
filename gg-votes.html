<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: 제8회 지방선거</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


    <!--
    <div id="google_translate_element"></div><script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({pageLanguage: 'ko', includedLanguages: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
    }
    </script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    -->
            
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <a href="index.html"><h1 class="title">제8회
지방선거</h1></a>
          <h2 class="subtitle">경기지사</h2>
          <h1 id="president-tilemap_sigungu">데이터</h1>
<h2 id="대선">대선</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 2012년 대선</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>gg_2012_raw <span class="ot">&lt;-</span> krvote<span class="sc">::</span>election_20121219<span class="sc">$</span>득표율 <span class="sc">%&gt;%</span> </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(시도명, <span class="st">&quot;경기&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>선거인수, <span class="sc">-</span> 투표수) <span class="sc">%&gt;%</span> </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(박근혜<span class="sc">:</span>김순자, <span class="at">names_to =</span> <span class="st">&quot;후보&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;득표수&quot;</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(정당 <span class="ot">=</span> <span class="fu">case_when</span>(<span class="fu">str_detect</span>(후보, <span class="st">&quot;박근혜&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(후보, <span class="st">&quot;문재인&quot;</span>) <span class="sc">~</span> <span class="st">&quot;민주당&quot;</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;그외정당&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(구시군명 <span class="ot">=</span> <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(구시군명, <span class="st">&quot;여주&quot;</span>), <span class="st">&quot;여주시&quot;</span>, 구시군명) ) <span class="sc">%&gt;%</span> </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(시도명, 구시군명, 정당) <span class="sc">%&gt;%</span> </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>( 득표수 <span class="ot">=</span> <span class="fu">sum</span>(득표수, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(선거 <span class="ot">=</span> <span class="st">&quot;2012년&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(구시군 <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;고양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;고양시&quot;</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;부천시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;부천시&quot;</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;성남시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;성남시&quot;</span>,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;수원시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;수원시&quot;</span>,</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;안산시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안산시&quot;</span>,</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;안양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안양시&quot;</span>,</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;용인시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;용인시&quot;</span>,</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;광명시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광명시&quot;</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;광주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광주시&quot;</span>,</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;군포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;군포시&quot;</span>,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;김포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;김포시&quot;</span>,</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;남양주&quot;</span>) <span class="sc">~</span> <span class="st">&quot;남양주&quot;</span>,</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;의정부&quot;</span>) <span class="sc">~</span> <span class="st">&quot;의정부&quot;</span>,</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;화성시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;화성시&quot;</span>,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;파주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;파주시&quot;</span>,</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;평택시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;평택시&quot;</span>,</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;시흥시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;시흥시&quot;</span>,</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>                        <span class="cn">TRUE</span> <span class="sc">~</span> 구시군명))  <span class="sc">%&gt;%</span> </span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(선거, 시도명, 구시군명<span class="ot">=</span>구시군, 정당, 득표수)</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="do">## 2017년 대선</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>gg_2017_raw <span class="ot">&lt;-</span> krvote<span class="sc">::</span>election_20170509<span class="sc">$</span>득표율 <span class="sc">%&gt;%</span> </span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(시도명, <span class="st">&quot;경기&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>선거인수, <span class="sc">-</span> 투표수) <span class="sc">%&gt;%</span> </span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(문재인<span class="sc">:</span>김민찬, <span class="at">names_to =</span> <span class="st">&quot;후보&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;득표수&quot;</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(정당 <span class="ot">=</span> <span class="fu">case_when</span>(<span class="fu">str_detect</span>(후보, <span class="st">&quot;홍준표&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(후보, <span class="st">&quot;안철수&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(후보, <span class="st">&quot;유승민&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(후보, <span class="st">&quot;문재인&quot;</span>) <span class="sc">~</span> <span class="st">&quot;민주당&quot;</span>,</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;그외정당&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(시도명, 구시군명, 정당) <span class="sc">%&gt;%</span> </span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>( 득표수 <span class="ot">=</span> <span class="fu">sum</span>(득표수, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(선거 <span class="ot">=</span> <span class="st">&quot;2017년&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(구시군 <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;고양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;고양시&quot;</span>,</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;부천시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;부천시&quot;</span>,</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;성남시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;성남시&quot;</span>,</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;수원시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;수원시&quot;</span>,</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;안산시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안산시&quot;</span>,</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;안양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안양시&quot;</span>,</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;용인시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;용인시&quot;</span>,</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;광명시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광명시&quot;</span>,</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;광주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광주시&quot;</span>,</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;군포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;군포시&quot;</span>,</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;김포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;김포시&quot;</span>,</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;남양주&quot;</span>) <span class="sc">~</span> <span class="st">&quot;남양주&quot;</span>,</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;의정부&quot;</span>) <span class="sc">~</span> <span class="st">&quot;의정부&quot;</span>,</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;화성시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;화성시&quot;</span>,</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;파주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;파주시&quot;</span>,</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;평택시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;평택시&quot;</span>,</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;시흥시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;시흥시&quot;</span>,</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>                        <span class="cn">TRUE</span> <span class="sc">~</span> 구시군명))  <span class="sc">%&gt;%</span> </span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(선거, 시도명, 구시군명<span class="ot">=</span>구시군, 정당, 득표수)</span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a><span class="do">## 2022년 대선</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>gg_2022_raw_excel <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">&quot;data/2022년_개표결과_대통령선거_전체.xlsx&quot;</span>) </span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>gg_2022_raw <span class="ot">&lt;-</span> gg_2022_raw_excel <span class="sc">%&gt;%</span> </span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(시도, <span class="st">&quot;경기&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(읍면동명 <span class="ot">=</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(읍면동명), 구시군, 읍면동명),</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>         투표구명 <span class="ot">=</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(투표구명), 읍면동명, 투표구명)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(구시군, <span class="st">&quot;합계&quot;</span>),</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span><span class="fu">str_detect</span>(읍면동명, <span class="st">&quot;합계&quot;</span>),</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span><span class="fu">str_detect</span>(투표구명, <span class="st">&quot;소계&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>(<span class="at">ascii =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>선거인수, <span class="sc">-</span> 투표수, <span class="sc">-</span>무효투표수, <span class="sc">-</span>기권수) <span class="sc">%&gt;%</span> </span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(더불어민주당_이재명<span class="sc">:</span>한류연합당_김민찬, <span class="at">names_to =</span> <span class="st">&quot;후보&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;득표수&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(후보, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;정당&quot;</span>, <span class="st">&quot;후보&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(득표수 <span class="ot">=</span> <span class="fu">parse_number</span>(득표수),</span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>         계     <span class="ot">=</span> <span class="fu">parse_number</span>(계)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(정당 <span class="ot">=</span> <span class="fu">case_when</span>(<span class="fu">str_detect</span>(후보, <span class="st">&quot;이재명&quot;</span>) <span class="sc">~</span> <span class="st">&quot;민주당&quot;</span>,</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(후보, <span class="st">&quot;윤석열&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;그외정당&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(시도명 <span class="ot">=</span> 시도, </span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>         구시군명 <span class="ot">=</span> 구시군) <span class="sc">%&gt;%</span> </span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(시도명, 구시군명, 정당) <span class="sc">%&gt;%</span> </span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>( 득표수 <span class="ot">=</span> <span class="fu">sum</span>(득표수, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(선거 <span class="ot">=</span> <span class="st">&quot;2022년&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(구시군 <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;고양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;고양시&quot;</span>,</span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;부천시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;부천시&quot;</span>,</span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;성남시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;성남시&quot;</span>,</span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;수원시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;수원시&quot;</span>,</span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;안산시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안산시&quot;</span>,</span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;안양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안양시&quot;</span>,</span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;용인시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;용인시&quot;</span>,</span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;광명시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광명시&quot;</span>,</span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;광주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광주시&quot;</span>,</span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;군포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;군포시&quot;</span>,</span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;김포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;김포시&quot;</span>,</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;남양주&quot;</span>) <span class="sc">~</span> <span class="st">&quot;남양주&quot;</span>,</span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;의정부&quot;</span>) <span class="sc">~</span> <span class="st">&quot;의정부&quot;</span>,</span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;화성시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;화성시&quot;</span>,</span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;파주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;파주시&quot;</span>,</span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;평택시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;평택시&quot;</span>,</span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;시흥시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;시흥시&quot;</span>,</span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>                        <span class="cn">TRUE</span> <span class="sc">~</span> 구시군명))  <span class="sc">%&gt;%</span> </span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(선거, 시도명, 구시군명<span class="ot">=</span>구시군, 정당, 득표수)</span></code></pre></div>
<h2 id="총선">총선</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 2016년 총선 -----------------------</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>gg_2016_raw <span class="ot">&lt;-</span> krvote<span class="sc">::</span>general_2016 <span class="sc">%&gt;%</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(시도 <span class="sc">==</span> <span class="st">&quot;경기&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(data) <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(구시군명 <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;고양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;고양시&quot;</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;부천시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;부천시&quot;</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;성남시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;성남시&quot;</span>,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;수원시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;수원시&quot;</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;안산시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안산시&quot;</span>,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;안양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안양시&quot;</span>,</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;용인시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;용인시&quot;</span>,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;광명시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광명시&quot;</span>,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;광주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광주시&quot;</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;군포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;군포시&quot;</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;김포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;김포시&quot;</span>,</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;남양주&quot;</span>) <span class="sc">~</span> <span class="st">&quot;남양주&quot;</span>,</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;의정부&quot;</span>) <span class="sc">~</span> <span class="st">&quot;의정부&quot;</span>,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;화성시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;화성시&quot;</span>,</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;파주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;파주시&quot;</span>,</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;평택시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;평택시&quot;</span>,</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;시흥시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;시흥시&quot;</span>,</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>                        <span class="cn">TRUE</span> <span class="sc">~</span> 선거구))  <span class="sc">%&gt;%</span> </span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(구시군명, 구분) <span class="sc">%&gt;%</span> </span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(득표수 <span class="ot">=</span> <span class="fu">sum</span>(사람수)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>gg_2016_dat <span class="ot">&lt;-</span> gg_2016_raw <span class="sc">%&gt;%</span> </span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>( <span class="fu">str_detect</span>(구분, <span class="st">&quot;국민의당|노동당|녹색당|더불어민주당|무소속|민중연합당|새누리당|정의당&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(구분, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;정당&quot;</span>, <span class="st">&quot;후보&quot;</span>), <span class="at">sep =</span> <span class="st">&quot; &quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(정당 <span class="ot">=</span> <span class="fu">case_when</span>(<span class="fu">str_detect</span>(정당, <span class="st">&quot;민주당&quot;</span>) <span class="sc">~</span> <span class="st">&quot;민주당&quot;</span>,</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(정당, <span class="st">&quot;새누리당&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(정당, <span class="st">&quot;국민의당&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;그외정당&quot;</span>)) <span class="sc">%&gt;%</span>   </span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(구시군명, 정당) <span class="sc">%&gt;%</span> </span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(득표수 <span class="ot">=</span> <span class="fu">sum</span>(득표수, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># left_join( gg_2016_raw %&gt;% filter(구분 == &quot;계&quot;) %&gt;% rename(합계 = 득표수)) %&gt;% </span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(선거 <span class="ot">=</span> <span class="st">&quot;2016년&quot;</span>)</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a><span class="do">## 2020년 총선 -----------------------</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>gg_2020_raw <span class="ot">&lt;-</span> krvote<span class="sc">::</span>general_2020 <span class="sc">%&gt;%</span> </span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(시도 <span class="sc">==</span> <span class="st">&quot;경기&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(data) <span class="sc">%&gt;%</span> </span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(구시군명 <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;고양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;고양시&quot;</span>,</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;부천시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;부천시&quot;</span>,</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;성남시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;성남시&quot;</span>,</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;수원시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;수원시&quot;</span>,</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;안산시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안산시&quot;</span>,</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;안양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안양시&quot;</span>,</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;용인시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;용인시&quot;</span>,</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;광명시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광명시&quot;</span>,</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;광주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광주시&quot;</span>,</span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;군포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;군포시&quot;</span>,</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;김포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;김포시&quot;</span>,</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;남양주&quot;</span>) <span class="sc">~</span> <span class="st">&quot;남양주&quot;</span>,</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;의정부&quot;</span>) <span class="sc">~</span> <span class="st">&quot;의정부&quot;</span>,</span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;화성시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;화성시&quot;</span>,</span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;파주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;파주시&quot;</span>,</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;평택시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;평택시&quot;</span>,</span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(선거구, <span class="st">&quot;시흥시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;시흥시&quot;</span>,</span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>                        <span class="cn">TRUE</span> <span class="sc">~</span> 선거구))  <span class="sc">%&gt;%</span> </span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(구시군명, 구분) <span class="sc">%&gt;%</span> </span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(득표수 <span class="ot">=</span> <span class="fu">sum</span>(사람수)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>gg_2020_dat <span class="ot">&lt;-</span> gg_2020_raw <span class="sc">%&gt;%</span> </span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(구시군명, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;선거구&quot;</span>, <span class="st">&quot;구시군명&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(구시군명 <span class="ot">=</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(구시군명), 선거구, 구시군명)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>( <span class="fu">str_detect</span>(구분, <span class="st">&quot;국가혁명배당금당|기독자유통일당|기본소득당|더불어민주당|무소속|미래통합당|민생당|민중당|우리공화당|정의당|친박신당&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(구분, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;정당&quot;</span>, <span class="st">&quot;후보&quot;</span>), <span class="at">sep =</span> <span class="st">&quot; &quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(정당 <span class="ot">=</span> <span class="fu">case_when</span>(<span class="fu">str_detect</span>(정당, <span class="st">&quot;민주당&quot;</span>) <span class="sc">~</span> <span class="st">&quot;민주당&quot;</span>,</span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(정당, <span class="st">&quot;미래통합&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(정당, <span class="st">&quot;국민의당&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;그외정당&quot;</span>)) <span class="sc">%&gt;%</span>   </span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(구시군명, 정당) <span class="sc">%&gt;%</span> </span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(득표수 <span class="ot">=</span> <span class="fu">sum</span>(득표수, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>  <span class="co"># left_join( gg_2020_raw %&gt;% filter(구분 == &quot;계&quot;) %&gt;% rename(합계 = 득표수)) %&gt;% </span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(선거 <span class="ot">=</span> <span class="st">&quot;2020년&quot;</span>)</span></code></pre></div>
<h2 id="지선">지선</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 2014년 지방선거</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>clean_df <span class="ot">&lt;-</span> <span class="cf">function</span>(raw_df) {</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  clean_df <span class="ot">&lt;-</span> raw_df <span class="sc">%&gt;%</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(선거인수<span class="sc">:</span>기권수)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(clean_df)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>gg_2014_raw <span class="ot">&lt;-</span> krvote<span class="sc">::</span>local_sgg_20140604<span class="sc">$</span>경기도 <span class="sc">%&gt;%</span> </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">clean_data =</span> <span class="fu">map</span>(data, clean_df) )</span></code></pre></div>
<pre><code>Error in `mutate()`:
! Problem while computing `clean_data = map(data, clean_df)`.
Caused by error in `chr_as_locations()`:
! Can&#39;t subset columns that don&#39;t exist.
✖ Column `선거인수` doesn&#39;t exist.</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>gg_2014_total <span class="ot">&lt;-</span> gg_2014_raw <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>data) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(clean_data) <span class="sc">%&gt;%</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(name, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;정당&quot;</span>, <span class="st">&quot;후보&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(정당 <span class="sc">==</span> <span class="st">&quot;계&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(시도명, 구시군) <span class="sc">%&gt;%</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(합계 <span class="ot">=</span> <span class="fu">sum</span>(value)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code></pre></div>
<pre><code>Error in select(., -data): 객체 &#39;gg_2014_raw&#39;를 찾을 수 없습니다</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>gg_2014_dat <span class="ot">&lt;-</span> gg_2014_raw <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>data) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(clean_data) <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(name, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;정당&quot;</span>, <span class="st">&quot;후보&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(정당, <span class="st">&quot;녹색당|무소속|새누리당|새정치당|새정치민주연합|정의당|통합진보당&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter(!is.na(후보)) %&gt;% </span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(정당 <span class="ot">=</span> <span class="fu">case_when</span>(<span class="fu">str_detect</span>(정당, <span class="st">&quot;민주연합&quot;</span>) <span class="sc">~</span> <span class="st">&quot;민주당&quot;</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(정당, <span class="st">&quot;새누리당&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;그외정당&quot;</span>)) <span class="sc">%&gt;%</span>   </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(구시군명 <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;고양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;고양시&quot;</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;부천시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;부천시&quot;</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;성남시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;성남시&quot;</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;수원시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;수원시&quot;</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;안산시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안산시&quot;</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;안양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안양시&quot;</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;용인시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;용인시&quot;</span>,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;광명시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광명시&quot;</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;광주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광주시&quot;</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;군포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;군포시&quot;</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;김포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;김포시&quot;</span>,</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;남양주&quot;</span>) <span class="sc">~</span> <span class="st">&quot;남양주&quot;</span>,</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;의정부&quot;</span>) <span class="sc">~</span> <span class="st">&quot;의정부&quot;</span>,</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;화성시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;화성시&quot;</span>,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;파주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;파주시&quot;</span>,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;평택시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;평택시&quot;</span>,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(구시군, <span class="st">&quot;시흥시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;시흥시&quot;</span>,</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>                        <span class="cn">TRUE</span> <span class="sc">~</span> 구시군))  <span class="sc">%&gt;%</span> </span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(시도명, 구시군명, 정당) <span class="sc">%&gt;%</span> </span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(득표수 <span class="ot">=</span> <span class="fu">sum</span>(value)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># left_join( gg_2014_total ) %&gt;% </span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(선거 <span class="ot">=</span> <span class="st">&quot;2014년&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(선거, 구시군명, 정당, 득표수)</span></code></pre></div>
<pre><code>Error in select(., -data): 객체 &#39;gg_2014_raw&#39;를 찾을 수 없습니다</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 2018년 지방선거</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>gg_2018_raw <span class="ot">&lt;-</span> krvote<span class="sc">::</span>local_sgg_20180613 <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(시도 <span class="sc">==</span> <span class="st">&quot;경기도&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">clean_data =</span> <span class="fu">map</span>(data, clean_df) ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>data) <span class="sc">%&gt;%</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(clean_data) <span class="sc">%&gt;%</span> </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(name, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;정당&quot;</span>, <span class="st">&quot;후보&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(구시군 <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;고양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;고양시&quot;</span>,</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;부천시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;부천시&quot;</span>,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;성남시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;성남시&quot;</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;수원시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;수원시&quot;</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;안산시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안산시&quot;</span>,</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;안양시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;안양시&quot;</span>,</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;용인시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;용인시&quot;</span>,</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;광명시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광명시&quot;</span>,</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;광주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;광주시&quot;</span>,</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;군포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;군포시&quot;</span>,</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;김포시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;김포시&quot;</span>,</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;남양주&quot;</span>) <span class="sc">~</span> <span class="st">&quot;남양주&quot;</span>,</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;의정부&quot;</span>) <span class="sc">~</span> <span class="st">&quot;의정부&quot;</span>,</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;화성시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;화성시&quot;</span>,</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;파주시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;파주시&quot;</span>,</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;평택시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;평택시&quot;</span>,</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">str_detect</span>(구시군명, <span class="st">&quot;시흥시&quot;</span>) <span class="sc">~</span> <span class="st">&quot;시흥시&quot;</span>,</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>                      <span class="cn">TRUE</span> <span class="sc">~</span> 구시군명))  </span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>gg_2018_total <span class="ot">&lt;-</span> gg_2018_raw <span class="sc">%&gt;%</span>   </span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(정당 <span class="sc">==</span> <span class="st">&quot;계&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(시도명, 구시군명) <span class="sc">%&gt;%</span> </span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(합계 <span class="ot">=</span> <span class="fu">sum</span>(value)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>gg_2018_dat <span class="ot">&lt;-</span> gg_2018_raw <span class="sc">%&gt;%</span> </span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(정당, <span class="st">&quot;대한애국당|더불어민주당|무소속|민주평화당|민중당|바른미래당|자유한국당|정의당&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(정당 <span class="ot">=</span> <span class="fu">case_when</span>(<span class="fu">str_detect</span>(정당, <span class="st">&quot;민주당&quot;</span>) <span class="sc">~</span> <span class="st">&quot;민주당&quot;</span>,</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(정당, <span class="st">&quot;자유한국당&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">str_detect</span>(정당, <span class="st">&quot;바른미래당&quot;</span>) <span class="sc">~</span> <span class="st">&quot;국민의힘&quot;</span>,</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;그외정당&quot;</span>)) <span class="sc">%&gt;%</span>   </span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(시도명, 구시군, 정당) <span class="sc">%&gt;%</span> </span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(득표수 <span class="ot">=</span> <span class="fu">sum</span>(value)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># left_join( gg_2018_total )</span></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(선거 <span class="ot">=</span> <span class="st">&quot;2018년&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(선거, 구시군명<span class="ot">=</span>구시군, 정당, 득표수)</span></code></pre></div>
<h2 id="종합">* 종합</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 데이터 결합</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>gg_raw <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(gg_2012_raw, gg_2017_raw) <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(gg_2022_raw) <span class="sc">%&gt;%</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(선거, 구시군명, 정당, 득표수) <span class="sc">%&gt;%</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(gg_2020_dat) <span class="sc">%&gt;%</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(gg_2016_dat) <span class="sc">%&gt;%</span> </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(gg_2014_dat) <span class="sc">%&gt;%</span> </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(gg_2018_dat)</span></code></pre></div>
<pre><code>Error in list2(...): 객체 &#39;gg_2014_dat&#39;를 찾을 수 없습니다</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>gg_sgg_raw <span class="ot">&lt;-</span> gg_raw <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(선거, 구시군명, 정당) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(득표수 <span class="ot">=</span> <span class="fu">sum</span>(득표수)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code></pre></div>
<pre><code>Error in group_by(., 선거, 구시군명, 정당): 객체 &#39;gg_raw&#39;를 찾을 수 없습니다</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>gg_sgg_raw <span class="ot">&lt;-</span> krvote<span class="sc">::</span><span class="fu">clean_varnames</span>(gg_sgg_raw)</span></code></pre></div>
<pre><code>Error in krvote::clean_varnames(gg_sgg_raw): 객체 &#39;gg_sgg_raw&#39;를 찾을 수 없습니다</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>gg_sgg_raw <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_rds</span>(<span class="st">&quot;data/gg_sgg_raw.rds&quot;</span>)</span></code></pre></div>
<pre><code>Error in saveRDS(x, con, version = version, refhook = refhook, ascii = text): 객체 &#39;gg_sgg_raw&#39;를 찾을 수 없습니다</code></pre>
<h1 id="시각화">시각화</h1>
<h2 id="표">표</h2>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>gg_raw_tbl <span class="ot">&lt;-</span> gg_raw <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(선거, 정당) <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(득표수 <span class="ot">=</span> <span class="fu">sum</span>(득표수)) <span class="sc">%&gt;%</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(득표율 <span class="ot">=</span> 득표수 <span class="sc">/</span> 합계) </span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>gg_raw_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">&quot;{scales::comma(득표수)} / {scales::comma(합계)} = {scales::percent(득표율, 0.1)}&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(선거, 정당, text) <span class="sc">%&gt;%</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> 정당, <span class="at">values_from =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(선거, 민주당, 국민의힘, 그외정당)</span></code></pre></div>
<h2 id="그래프">그래프</h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>gg_raw_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> 선거, <span class="at">y =</span> 득표율, <span class="at">color =</span> 정당, <span class="at">group =</span> 정당)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>()</span></code></pre></div>
<h1 id="echarts">echarts</h1>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.infoworld.com/article/3607068/plot-in-r-with-echarts4r.html</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(echarts4r)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>gg_raw <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(선거) <span class="sc">%&gt;%</span> </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(득표수 <span class="ot">=</span> <span class="fu">sum</span>(득표수) ) <span class="sc">%&gt;%</span> </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_charts</span>(<span class="at">x =</span> 선거) <span class="sc">%&gt;%</span> </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_line</span>(<span class="at">serie =</span> 득표수)</span></code></pre></div>
<pre><code>Error in group_by(., 선거): 객체 &#39;gg_raw&#39;를 찾을 수 없습니다</code></pre>
<h1 id="echarts-지도">echarts 지도</h1>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(echarts4r)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(echarts4r.maps)</span></code></pre></div>
<pre><code>Error in library(echarts4r.maps): &#39;echarts4r.maps&#39;이라고 불리는 패키지가 없습니다</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">e_charts</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">em_map</span>(<span class="st">&quot;South_Korea&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_map</span>(<span class="at">map =</span> <span class="st">&quot;South_Korea&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_visual_map</span>()</span></code></pre></div>
<pre><code>Error in em_map(., &quot;South_Korea&quot;): 함수 &quot;em_map&quot;를 찾을 수 없습니다</code></pre>
<h1 id="echarts-globe">echarts globe</h1>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(echarts4r.assets)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>airports <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(<span class="st">&quot;https://raw.githubusercontent.com/plotly/datasets/&quot;</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;master/2011_february_us_airport_traffic.csv&quot;</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>airports <span class="sc">|&gt;</span> </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_charts</span>(long) <span class="sc">|&gt;</span> </span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_globe</span>(</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">environment =</span> <span class="fu">ea_asset</span>(<span class="st">&quot;starfield&quot;</span>),</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">base_texture =</span> <span class="fu">ea_asset</span>(<span class="st">&quot;world&quot;</span>), </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">globeOuterRadius =</span> <span class="dv">100</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_scatter_3d</span>(lat, cnt, <span class="at">coord_system =</span> <span class="st">&quot;globe&quot;</span>, <span class="at">blendMode =</span> <span class="st">&#39;lighter&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_visual_map</span>(<span class="at">inRange =</span> <span class="fu">list</span>(<span class="at">symbolSize =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>)))</span></code></pre></div>
<pre><code>Error in path.expand(path): 인자 &#39;path&#39;가 올바르지 않습니다.</code></pre>
<h1 id="crosstalk">crosstalk</h1>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>gg_raw <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">&quot;data/gg_raw.rds&quot;</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>gg_raw <span class="sc">%&gt;%</span> </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(구시군명 <span class="sc">==</span> <span class="st">&quot;가평군&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(정당 <span class="ot">=</span> <span class="fu">factor</span>(정당, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;민주당&quot;</span>, <span class="st">&quot;국민의힘&quot;</span>, <span class="st">&quot;그외정당&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> 선거, <span class="at">y =</span> 득표수, <span class="at">color =</span> 정당, <span class="at">group =</span> 정당)) <span class="sc">+</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;gray70&quot;</span>))</span></code></pre></div>
<pre><code>Error in `filter()`:
! Problem while computing `..1 = 구시군명 == &quot;가평군&quot;`.
Caused by error in `mask$eval_all_filter()`:
! 객체 &#39;구시군명&#39;를 찾을 수 없습니다</code></pre>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-37305346-2', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>
